<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.10.1 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="de" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>CodeGenerator for PLC´s (DE) - x44 x4d x47</title>
<meta name="description" content="CodeGenerator für SPS Source Code">



<meta property="og:type" content="article">
<meta property="og:locale" content="de_DE">
<meta property="og:site_name" content="x44 x4d x47">
<meta property="og:title" content="CodeGenerator for PLC´s (DE)">
<meta property="og:url" content="https://dg60.github.io/portfolio/05-CodeGenerator-(DE)/">


  <meta property="og:description" content="CodeGenerator für SPS Source Code">



  <meta property="og:image" content="https://dg60.github.io/images/works/CodeGenerator/CodeGen_BuR.png">



  <meta name="twitter:site" content="@60dmg">
  <meta name="twitter:title" content="CodeGenerator for PLC´s (DE)">
  <meta name="twitter:description" content="CodeGenerator für SPS Source Code">
  <meta name="twitter:url" content="https://dg60.github.io/portfolio/05-CodeGenerator-(DE)/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://dg60.github.io/images/works/CodeGenerator/CodeGen_BuR.png">
    
  

  



  <meta property="article:published_time" content="2024-05-29T18:40:34+02:00">





  

  


<link rel="canonical" href="https://dg60.github.io/portfolio/05-CodeGenerator-(DE)/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Daniel Grill",
      "url": "https://dg60.github.io",
      "sameAs": null
    }
  </script>



  <meta name="google-site-verification" content="googledc32a20f3ee3a459.html" />





<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="x44 x4d x47 Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://dg60.github.io/assets/css/main.css">
<link rel="icon" href="/favicon.ico" type="image/favicon.icon">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="https://dg60.github.io/">x44 x4d x47</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="https://dg60.github.io/blog_de/" >Blog</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://dg60.github.io/about_de/" >Über mich</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://dg60.github.io/work_de/" >Projekte</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://dg60.github.io/docs/linux_01/" >CLI Befehle</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://dg60.github.io/downloads/" >Downloads</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://dg60.github.io/impressum/" >Impressum</a>
            </li>
          
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Menü ein-/ausschalten</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
        <img src=
        
          "https://dg60.github.io/images/works/CodeGenerator/CodeGen_BuR.png"
        
        alt="logo">
      
      <h3>Daniel Grill</h3>
      <p>Entwickler</p>

    
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="CodeGenerator for PLC´s (DE)">
    <meta itemprop="description" content="CodeGenerator für SPS Source Code">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">CodeGenerator for PLC´s (DE)
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-cog"></i> Inhalt</h4></header>
              <ul class="toc__menu">
  <li><a href="#workflow">Workflow:</a></li>
  <li><a href="#zielsetzung">Zielsetzung</a></li>
  <li><a href="#technik">Technik</a>
    <ul>
      <li><a href="#unterstütze-sprachensteuerungen">Unterstütze Sprachen/Steuerungen</a></li>
      <li><a href="#unterstütze-zielplatformen">Unterstütze Zielplatformen</a></li>
      <li><a href="#gui-gooey">GUI Gooey</a></li>
      <li><a href="#verwendete-python3-bibliotheken">Verwendete Python3 Bibliotheken</a></li>
    </ul>
  </li>
  <li><a href="#structurexlsx">Structure.xlsx</a>
    <ul>
      <li><a href="#objects">Objects</a></li>
      <li><a href="#var_inputoutputinout">VAR_INPUT/OUTPUT/INOUT</a></li>
      <li><a href="#ctrlstsprm">CTRL/STS/PRM</a></li>
      <li><a href="#erlaubte-datentypen">Erlaubte Datentypen</a></li>
      <li><a href="#ungültige-sonderzeichen">Ungültige Sonderzeichen</a></li>
    </ul>
  </li>
  <li><a href="#erste-schritte">Erste Schritte</a>
    <ul>
      <li><a href="#codegenerator-für-br">Codegenerator für B&amp;R</a></li>
      <li><a href="#codegenerator-für-siemens">Codegenerator für Siemens</a></li>
    </ul>
  </li>
  <li><a href="#projektstruktur">Projektstruktur</a>
    <ul>
      <li><a href="#buildspec">build.spec</a></li>
      <li><a href="#data">data</a></li>
      <li><a href="#doc">doc</a></li>
    </ul>
  </li>
  <li><a href="#codegenerator">CodeGenerator</a>
    <ul>
      <li><a href="#conf">conf</a></li>
      <li><a href="#generators">generators</a></li>
      <li><a href="#images">images</a></li>
      <li><a href="#parser">parser</a></li>
    </ul>
  </li>
  <li><a href="#geplante-features">Geplante Features</a></li>
  <li><a href="#software-download">Software Download</a></li>
</ul>
            </nav>
          </aside>
        
        
<p>Der <strong>Codegenerator for PLC´s</strong> ist ein kleines Programm das beim erstellen von neuen Funktionsbausteinen auf einer SPS helfen soll. Es erzeugt das Grundgerüst für den jeweiligen FB inklusive Datentypen, Variablen usw. Der grösste Nutzen des Programmes ist es aber das die Funktionsaufrufe auf Basis eine Excel Files definiert werden können und diese dann vollautomatisch in der Richtigen Syntax und der richtigen Struktur für die jeweilige SPS erzeugt wird.</p>

<p><img src="/images/works/CodeGenerator/CodeGen_BuR.png" alt="image-center" class="align-center" /></p>

<h2 id="workflow">Workflow:</h2>
<ol>
  <li>Daten/Schnittstellen in Structure.xlsx erfassen</li>
  <li>Parmeter eingeben</li>
  <li>CodeGenerator starten</li>
  <li>Erzeugte Quellen ins Projekt kopieren/importieren</li>
  <li>Kaffe Trinken !<br />
<img border="0" src="/images/works/CodeGenerator/coffee.png" alt="pdf" width="70" height="70" /></li>
</ol>

<h2 id="zielsetzung">Zielsetzung</h2>
<ul>
  <li>Schnelles erzeugen von Funktionsbausteinen(FB)</li>
  <li>Schnelle und Fehlerfreie Beschaltung der FB Aufrufe</li>
  <li>Offen für neue Sprach/SPS Generatoren</li>
</ul>

<h2 id="technik">Technik</h2>

<p>Der CodeGenerator ist in der Sprache Python 3 geschrieben. Dadurch ist das Programm auf alle Betriebsystem(Linux, Windows, MacOS) grundsätzlich lauffähig. Jedoch wurde der CodeGenerator Primär für Linux und Windows entwickelt und auch getestet.</p>

<h3 id="unterstütze-sprachensteuerungen">Unterstütze Sprachen/Steuerungen</h3>

<ul>
  <li>B&amp;R Automation Studio 4.x.x
    <ul>
      <li>Structured Text (ST EN 61131-3)</li>
      <li>C++ (CPP) in Entwicklung</li>
    </ul>
  </li>
  <li>Siemens TIA_V15
    <ul>
      <li>Structured Text (SCL)</li>
    </ul>
  </li>
</ul>

<h3 id="unterstütze-zielplatformen">Unterstütze Zielplatformen</h3>
<ul>
  <li>Linux
    <ul>
      <li>Ubuntu 16.04</li>
      <li>Ubuntu 18.04</li>
    </ul>
  </li>
  <li>Windows 7, 10</li>
</ul>

<h3 id="gui-gooey">GUI Gooey</h3>

<p>Das User Interface wird mittels eine genialen Python Bibliothek namens <a href="https://github.com/chriskiehl/Gooey">Gooey</a> von <a href="http://chriskiehl.com/">Chris Kiehl</a> realisiert. Die Bibliothek schafft ein einfaches User Interface für jedes Kommandozeilenprogramm, und basiert auf  dem GUI Toolkit <a href="https://wxpython.org/">wxPython</a>, und dient als Basis für den CodeGenerator</p>

<figure class="third ">
  
    
      <a href="https://dg60.github.io/images/works/CodeGenerator/CodeGen_BuR.png">
        <img src="https://dg60.github.io/images/works/CodeGenerator/CodeGen_BuR.png" alt="placeholder image 1" />
      </a>
    
  
    
      <a href="https://dg60.github.io/images/works/CodeGenerator/CodeGen_001.png">
        <img src="https://dg60.github.io/images/works/CodeGenerator/CodeGen_001.png" alt="placeholder image 2" />
      </a>
    
  
    
      <a href="https://dg60.github.io/images/works/CodeGenerator/CodeGen_002.png">
        <img src="https://dg60.github.io/images/works/CodeGenerator/CodeGen_002.png" alt="placeholder image 3" />
      </a>
    
  
  
    <figcaption>Click to enlarge
</figcaption>
  
</figure>

<h3 id="verwendete-python3-bibliotheken">Verwendete Python3 Bibliotheken</h3>
<ul>
  <li><a href="https://pandas.pydata.org/">pandas</a></li>
  <li><a href="http://www.numpy.org/">numpy</a></li>
  <li><a href="https://github.com/chriskiehl/Gooey">Gooey</a></li>
</ul>

<h2 id="structurexlsx">Structure.xlsx</h2>

<p>In der Datei <strong>Structure.xlsx</strong> werden alle Informationen für den Funktionsbaustein erfasst und hinterlegt. Aus den Enthalten Informationen werden die Quellen erzeugt.</p>

<p><a href="https://github.com/dg60/DEV_Codegenerator/raw/master/data/Template_structure.xlsx" download="">
  <img border="0" src="/images/download_symbols/xlsx.png" alt="pdf" width="50" height="50" /></a> Structure.xlsx</p>

<h3 id="objects">Objects</h3>

<p>Hier werden alle Objektinstanzen angegeben die benötigt werden.</p>
<ul>
  <li><em>Spalte A:</em> Hier wird der Name der Instanz angegeben (Name der Spalte darf nicht verändert werden)</li>
  <li><em>Spalte B:</em> Hier wird der Name der Funktion angegeben (Name der Spalte darf nicht verändert werden)</li>
  <li><em>Spalte C:</em> Enthält die Beschreibung der Objektinstanz (Name der Spalte darf nicht verändert werden)</li>
  <li><em>Spalte D:</em> Hier wird das BMK (Betriebsmittelkennzeichen) angegeben (Name der Spalte darf nicht verändert werden)</li>
  <li><em>Spalte E-xx:</em> Sind für die Parameter des Funktionsbausteines.</li>
</ul>

<p><img src="/images/works/CodeGenerator/structure_objects.png" alt="image-center" class="align-center" /></p>

<p class="notice--danger"><strong>Achtung ! Die Spalten Instanzname, Functionname, Description werden auf Sonderzeichen und die Länge geprüft. Fehler werden im Ausgabefenster ausgegeben.</strong></p>

<p>Die Spalten ab E werden keiner Prüfung mehr unterzogen und werden 1:1 in die Quelldatei weitergeben, um bei der Beschaltung so flexibel wie möglich zu sein.</p>

<p>Zusätzlich müssen alle Parameter von VAR_INPUT, VAR_OUTPUT, VARINOUT in diese Tabelle kopiert werden.<br />
Es ist wichtig das die Parameter gleich bennant werden, wie sie in den Tabellen VAR_INPUT, VAR_OUTPUT, VARINOUT deklariert worden sind.</p>

<h3 id="var_inputoutputinout">VAR_INPUT/OUTPUT/INOUT</h3>
<p>In diesen 3 Tabellen wird die Schnittstelle(Interface) des Bausteins definiert.</p>

<p><img src="/images/works/CodeGenerator/structure_interface.png" alt="image-center" class="align-center" /></p>

<p class="notice--danger"><strong>Achtung ! Die Spalten Name, Datatyp, Description werden auf Sonderzeichen,Länge und erlaubte Datentypen geprüft. Fehler werden im Ausgabefenster ausgegeben.</strong></p>

<h3 id="ctrlstsprm">CTRL/STS/PRM</h3>
<p>In diesen 3 Tabellen werden die Types CTRL,STS,PRM definiert.</p>

<p><img src="/images/works/CodeGenerator/structure_interface.png" alt="image-center" class="align-center" /></p>

<p class="notice--danger"><strong>Achtung ! Die Spalten Name, Datatyp, Description werden auf Sonderzeichen,Länge und erlaubte Datentypen geprüft. Fehler werden im Ausgabefenster ausgegeben.</strong></p>

<h3 id="erlaubte-datentypen">Erlaubte Datentypen</h3>
<p>Die folgenden Datentypen sind hinterlegt und werden nicht als Fehler ausgewertet:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plcTypes</span> <span class="o">=</span> <span class="p">(</span>
      <span class="s">'BOOL'</span><span class="p">,</span>
      <span class="s">'BYTE'</span><span class="p">,</span>
      <span class="s">'UINT'</span><span class="p">,</span>
      <span class="s">'SINT'</span><span class="p">,</span>
      <span class="s">'INT'</span><span class="p">,</span>
      <span class="s">'UDINT'</span><span class="p">,</span>
      <span class="s">'DINT'</span><span class="p">,</span>
      <span class="s">'WORD'</span><span class="p">,</span>
      <span class="s">'DWORD'</span><span class="p">,</span>
      <span class="s">'REAL'</span><span class="p">,</span>
      <span class="s">'TIME'</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></div>

<h3 id="ungültige-sonderzeichen">Ungültige Sonderzeichen</h3>
<p>Folgende Sonderzeichen sind nicht erlaubt in erzeugen einen Fehler im Meldefenster:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">invalidCharacters</span> <span class="o">=</span> <span class="p">(</span>
      <span class="s">'ä'</span><span class="p">,</span>
      <span class="s">'Ä'</span><span class="p">,</span>
      <span class="s">'ö'</span><span class="p">,</span>
      <span class="s">'Ö'</span><span class="p">,</span>
      <span class="s">'Ü'</span><span class="p">,</span>
      <span class="s">'ü'</span><span class="p">,</span>
      <span class="s">'$'</span><span class="p">,</span>
      <span class="s">'&amp;'</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></div>

<h2 id="erste-schritte">Erste Schritte</h2>

<ol>
  <li>Pfad des Structure.xlsx auswählen (data_directory)</li>
  <li>Pfad für die Ausgabe der Quelldateien angeben (output_directory)</li>
  <li>Ziel SPS auswählen B&amp;R oder Siemens (target_plc)</li>
  <li>Zielsprache auswählen (target_lang)</li>
  <li>Version der Entwicklungsumgebung auswählen (target_ide)</li>
  <li>Author angeben der im Kopf der erzeugten Quellen stehen soll (author)</li>
  <li>Start Drücken
<img src="/images/works/CodeGenerator/CodeGen_BuR.png" alt="image-center" class="align-center" /></li>
  <li>Im Ausgabefenster werden Info und Fehlermeldungen ausgeben
<img src="/images/works/CodeGenerator/CodeGen_001.png" alt="image-center" class="align-center" /></li>
</ol>

<p>Die erzeugten Quellen sollten sich jetzt im Zielverzeichnis befinden.</p>

<h3 id="codegenerator-für-br">Codegenerator für B&amp;R</h3>

<p>Die erzeugten Quellen für die B&amp;R Steuerungen müssen mittels Copy&amp;Paste in die zugehöringen Programmodule kopiert werden. Hierzu werden die betroffene Module als Text geöffnet.</p>

<ol>
  <li>Modul als Text öffnen
<img src="/images/works/CodeGenerator/BuR_AS.png" alt="image-center" class="align-center" /></li>
  <li>Kopieren des Codes von den erzeugten Quellen
<img src="/images/works/CodeGenerator/BuR_AS_001.png" alt="image-center" class="align-center" /></li>
  <li>Fertig</li>
</ol>

<p>Der Import/Export von kompletten Modulen wird noch nicht unterstützt.</p>

<p><strong>Generierte Quellen:</strong><br />
Die Quellen werden in folgender Form erstellt:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span>
├── FB_Std.fun
├── FB_Std_lib.st
├── FB_Std.st
├── FB_Std.typ
└── FB_Std.var
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Datei: FB_Std.fun

FUNCTION_BLOCK  FB_Std
VAR_INPUT
	IN_Prm_0 : BOOL; (*Input Parameter 1*)
	IN_Prm_1 : BOOL; (*Input Parameter 2*)
	IN_Prm_2 : BOOL; (*Input Parameter 3*)
	IN_Prm_3 : BOOL; (*Input Parameter 4*)
	IN_Prm_4 : BOOL; (*Input Parameter 5*)
END_VAR
VAR_OUTPUT
	OUT_Prm_0 : BOOL; (*Output Parameter 1*)
	OUT_Prm_1 : BOOL; (*Output Parameter 2*)
	OUT_Prm_2 : BOOL; (*Output Parameter 3*)
	OUT_Prm_3 : BOOL; (*Output Parameter 4*)
	OUT_Prm_4 : BOOL; (*Output Parameter 5*)
END_VAR
VAR_IN_OUT
	Object_struct : TYP_FB_Std; (*Objectstrucuture*)
END_VAR
END_FUNCTION_BLOCK
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Datei: FB_Std.st
//***********************************************
// Codegenerator BuR V0.9.0
// by dgrill
// http://www.dgrill.at
// dgrill@dgrill.at
// Date of generation: 15.12.2018 13:07
//***********************************************

//***********************************************
// Standard FB FB1
//***********************************************

Object1(
	IN_Prm_0 := "Prm0",
	IN_Prm_1 := "Prm1",
	IN_Prm_2 := "Prm2",
	IN_Prm_3 := "Prm3",
	IN_Prm_4 := "Prm4",
	Object_struct := "DB_FB_Std".Object1);

	"Prm5" := Object1.OUT_Prm_0; 
	"Prm6" := Object1.OUT_Prm_1; 
	"Prm7" := Object1.OUT_Prm_2; 
	"Prm8" := Object1.OUT_Prm_3; 
	"Prm9" := Object1.OUT_Prm_4; 

//***********************************************
// Standard FB FB2
//***********************************************

Object2(
	IN_Prm_0 := "Prm0",
	IN_Prm_1 := "Prm1",
	IN_Prm_2 := "Prm2",
	IN_Prm_3 := "Prm3",
	IN_Prm_4 := "Prm4",
	Object_struct := "DB_FB_Std".Object2);

	"Prm5" := Object2.OUT_Prm_0; 
	"Prm6" := Object2.OUT_Prm_1; 
	"Prm7" := Object2.OUT_Prm_2; 
	"Prm8" := Object2.OUT_Prm_3; 
	"Prm9" := Object2.OUT_Prm_4; 

//***********************************************
// Standard FB FB3
//***********************************************

Object3(
	IN_Prm_0 := "Prm0",
	IN_Prm_1 := "Prm1",
	IN_Prm_2 := "Prm2",
	IN_Prm_3 := "Prm3",
	IN_Prm_4 := "Prm4",
	Object_struct := "DB_FB_Std".Object3);

	"Prm5" := Object3.OUT_Prm_0; 
	"Prm6" := Object3.OUT_Prm_1; 
	"Prm7" := Object3.OUT_Prm_2; 
	"Prm8" := Object3.OUT_Prm_3; 
	"Prm9" := Object3.OUT_Prm_4; 

Ausgabe wurde gekürzt
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Datei: FB_Std.typ

TYPE
TYP_FB_Std : STRUCT
	CTRL :
Datei: FB_Std.typ FB_Std_CTRL;
	STS : FB_Std_STS;
	PRM : FB_Std_PRM;
END_STRUCT;

FB_Std_CTRL : STRUCT
	Dummy : BOOL; (*Dummy*)
END_STRUCT;

FB_Std_STS : STRUCT
	Dummy : BOOL; (*Dummy*)
END_STRUCT;

FB_Std_PRM : STRUCT
	Dummy : REAL; (*Dummy*)
END_STRUCT;

END_TYPE
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Datei: FB_Std.var

VAR
	Object1 : FB_Std; (*Standard FB*)
	Object2 : FB_Std; (*Standard FB*)
	Object3 : FB_Std; (*Standard FB*)
	Object4 : FB_Std; (*Standard FB*)
	Object5 : FB_Std; (*Standard FB*)
	Object6 : FB_Std; (*Standard FB*)
	Object7 : FB_Std; (*Standard FB*)
	Object8 : FB_Std; (*Standard FB*)
	Object9 : FB_Std; (*Standard FB*)
	Object10 : FB_Std; (*Standard FB*)
END_VAR
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Datei: FB_Std.typ

TYPE
TYP_FB_Std : STRUCT
	CTRL :
Datei: FB_Std.typ FB_Std_CTRL;
	STS : FB_Std_STS;
	PRM : FB_Std_PRM;
END_STRUCT;

FB_Std_CTRL : STRUCT
	Dummy : BOOL; (*Dummy*)
END_STRUCT;

FB_Std_STS : STRUCT
	Dummy : BOOL; (*Dummy*)
END_STRUCT;

FB_Std_PRM : STRUCT
	Dummy : REAL; (*Dummy*)
END_STRUCT;

END_TYPE
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Datei: FB_Std_lib.st

//***********************************************
// FB_Std
// Author: dgrill
// Version: 1.0
// Date: 15.12.2018 13:07
// Description: 
// 
// Interface: 
// VAR_INPUT:
// IN_Prm_0:	BOOL	Input Parameter 1
// IN_Prm_1:	BOOL	Input Parameter 2
// IN_Prm_2:	BOOL	Input Parameter 3
// IN_Prm_3:	BOOL	Input Parameter 4
// IN_Prm_4:	BOOL	Input Parameter 5
// 
// VAR_OUTPUT:
// OUT_Prm_0:	BOOL	Output Parameter 1
// OUT_Prm_1:	BOOL	Output Parameter 2
// OUT_Prm_2:	BOOL	Output Parameter 3
// OUT_Prm_3:	BOOL	Output Parameter 4
// OUT_Prm_4:	BOOL	Output Parameter 5
// 
// VAR_IN_OUT:
// Object_struct:	TYP_FB_Std	Objectstrucuture
// 
// Rev: 
// 
//***********************************************

FUNCTION_BLOCK  FB_Std

// TODO - Insert Code here

END_FUNCTION_BLOCK
</code></pre></div></div>

<h3 id="codegenerator-für-siemens">Codegenerator für Siemens</h3>

<ol>
  <li>Quelle ins TIA Portal importieren</li>
  <li>Bausteine aus Quelle generieren 
<img src="/images/works/CodeGenerator/TIA_Portal.png" alt="image-center" class="align-center" /></li>
  <li>Fertig
<img src="/images/works/CodeGenerator/TIA_Portal_001.png" alt="image-center" class="align-center" /></li>
</ol>

<p><strong>Generierte Quelle:</strong><br />
Die Quellen werden in folgender Form erstellt:</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Datei: FB_Std.scl

TYPE "FB_Std_CTRL"
VERSION : 1.0
	STRUCT
		Dummy : BOOL; //Dummy
	END_STRUCT;
END_TYPE

TYPE "FB_Std_CTRL"
VERSION : 1.0
	STRUCT
		Dummy : BOOL; //Dummy
	END_STRUCT;
END_TYPE

TYPE "FB_Std_CTRL"
VERSION : 1.0
	STRUCT
		Dummy : REAL; //Dummy
	END_STRUCT;
END_TYPE

TYPE "TYP_FB_Std"
VERSION : 1.0
	STRUCT
		CTRL : FB_Std_CTRL;
		STS : FB_Std_STS;
		PRM : FB_Std_PRM;
	END_STRUCT;
END_TYPE

FUNCTION_BLOCK "FB_Std"
{ S7_Optimized_Access := 'TRUE' }
AUTHOR : dgrill
Version : 1.0
	VAR_INPUT
		IN_Prm_0 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Input Parameter 1
		IN_Prm_1 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Input Parameter 2
		IN_Prm_2 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Input Parameter 3
		IN_Prm_3 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Input Parameter 4
		IN_Prm_4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Input Parameter 5
	END_VAR
	VAR_OUTPUT
		OUT_Prm_0 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Output Parameter 1
		OUT_Prm_1 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Output Parameter 2
		OUT_Prm_2 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Output Parameter 3
		OUT_Prm_3 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Output Parameter 4
		OUT_Prm_4 { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	BOOL; 	//Output Parameter 5
	END_VAR
	VAR_IN_OUT
		Object_struct { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'} : 	TYP_FB_Std; 	//Objectstrucuture
	END_VAR
BEGIN
//***********************************************
// FB_Std
// Author: dgrill
// Version: 1.0
// Date: 15.12.2018 13:07
// Description: 
// 
// Rev: 
// 
//***********************************************

// TODO - Insert Code here

END_FUNCTION_BLOCK

DATA_BLOCK "DB_FB_Std"{ S7_Optimized_Access := 'TRUE' }
AUTHOR : user
Version : 1.0
VAR
	"Object1" : "TYP_FB_Std"; // Standard FB
	"Object2" : "TYP_FB_Std"; // Standard FB
	"Object3" : "TYP_FB_Std"; // Standard FB
	"Object4" : "TYP_FB_Std"; // Standard FB
	"Object5" : "TYP_FB_Std"; // Standard FB
	"Object6" : "TYP_FB_Std"; // Standard FB
	"Object7" : "TYP_FB_Std"; // Standard FB
	"Object8" : "TYP_FB_Std"; // Standard FB
	"Object9" : "TYP_FB_Std"; // Standard FB
	"Object10" : "TYP_FB_Std"; // Standard FB
END_VAR
BEGIN

END_DATA_BLOCK

FUNCTION_BLOCK "Call_FB_Std"
{ S7_Optimized_Access := 'TRUE' }
AUTHOR : user
Version : 1.0
VAR
I_FB_Std { ExternalAccessible := 'False'; ExternalVisible := 'False'; ExternalWritable := 'False'}: Array[0..10] of "FB_Std";
END_VAR
BEGIN

//***********************************************
// Codegenerator Siemens V0.9.0
// by dgrill
// http://www.dgrill.at
// dgrill@dgrill.at
// Date of generation: 15.12.2018 13:07
//***********************************************

REGION Standard FB FB1

#I_FB_Std[0](
	IN_Prm_0 := "Prm0",
	IN_Prm_1 := "Prm1",
	IN_Prm_2 := "Prm2",
	IN_Prm_3 := "Prm3",
	IN_Prm_4 := "Prm4",
	OUT_Prm_0 =&gt; "Prm5",
	OUT_Prm_1 =&gt; "Prm6",
	OUT_Prm_2 =&gt; "Prm7",
	OUT_Prm_3 =&gt; "Prm8",
	OUT_Prm_4 =&gt; "Prm9",
	Object_struct := "DB_FB_Std".Object1);

END_REGION

REGION Standard FB FB2

#I_FB_Std[1](
	IN_Prm_0 := "Prm0",
	IN_Prm_1 := "Prm1",
	IN_Prm_2 := "Prm2",
	IN_Prm_3 := "Prm3",
	IN_Prm_4 := "Prm4",
	OUT_Prm_0 =&gt; "Prm5",
	OUT_Prm_1 =&gt; "Prm6",
	OUT_Prm_2 =&gt; "Prm7",
	OUT_Prm_3 =&gt; "Prm8",
	OUT_Prm_4 =&gt; "Prm9",
	Object_struct := "DB_FB_Std".Object2);

END_REGION

REGION Standard FB FB3

#I_FB_Std[2](
	IN_Prm_0 := "Prm0",
	IN_Prm_1 := "Prm1",
	IN_Prm_2 := "Prm2",
	IN_Prm_3 := "Prm3",
	IN_Prm_4 := "Prm4",
	OUT_Prm_0 =&gt; "Prm5",
	OUT_Prm_1 =&gt; "Prm6",
	OUT_Prm_2 =&gt; "Prm7",
	OUT_Prm_3 =&gt; "Prm8",
	OUT_Prm_4 =&gt; "Prm9",
	Object_struct := "DB_FB_Std".Object3);

END_REGION

REGION Standard FB FB4

#I_FB_Std[3](
	IN_Prm_0 := "Prm0",
	IN_Prm_1 := "Prm1",
	IN_Prm_2 := "Prm2",
	IN_Prm_3 := "Prm3",
	IN_Prm_4 := "Prm4",
	OUT_Prm_0 =&gt; "Prm5",
	OUT_Prm_1 =&gt; "Prm6",
	OUT_Prm_2 =&gt; "Prm7",
	OUT_Prm_3 =&gt; "Prm8",
	OUT_Prm_4 =&gt; "Prm9",
	Object_struct := "DB_FB_Std".Object4);

END_REGION

Ausgabe wurde gekürzt

END_FUNCTION_BLOCK
</code></pre></div></div>

<h2 id="projektstruktur">Projektstruktur</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span>
├── build.spec
├── CodeGenerator
│   ├── conf
│   │   ├── config.py
│   │   └── __init__.py
│   ├── generators
│   │   ├── BaseGenerator.py
│   │   ├── Generator_BuR.py
│   │   ├── Generator_SIE.py
│   │   ├── __init__.py
│   │   └── Syntax.py
│   ├── images
│   │   ├── config_icon.png
│   │   └── program_icon.ico
│   ├── __init__.py
│   └── parser
│       ├── Checks.py
│       └── Spreadsheet.py
├── data
│   ├── BuR
│   │   ├── FB_Std.fun
│   │   ├── FB_Std_lib.st
│   │   ├── FB_Std.st
│   │   ├── FB_Std.typ
│   │   └── FB_Std.var
│   ├── SIE
│   │   └── FB_Std.scl
│   └── Template_structure.xlsx
├── doc
│   └── img
│       ├── CodeGen_BuR.png
│       └── CodeGen_SIE.png
├── LICENSE.txt
├── main.py
├── README.md
└── requirements.txt
</code></pre></div></div>
<h3 id="buildspec">build.spec</h3>
<p>In der <strong>build.spec</strong> sind alle notwendigen Informationen enthalten um den source code mittels <a href="https://www.pyinstaller.org/">pyinstaller</a> zu erstellen.</p>

<h3 id="data">data</h3>
<p>In diesem Verzeichnis befindet sich das Template für die Definitions Datei (Strucuture.xlsx), und die daraus erzeugten Quellen.</p>

<h3 id="doc">doc</h3>
<p>In diesem Verzeichnis befinden sich alle notwendigen Dateien für das README.md File.</p>

<h2 id="codegenerator">CodeGenerator</h2>
<p><em>Ablauf des Programmes:</em></p>
<ol>
  <li><em>main.py</em><br />
Hier werden alle Konfiguration eingelesen und der zu startende Generator ausgewählt.</li>
  <li><em>parser.Spreadsheet.py</em> <br />
Es werden die Daten vom Excel File eingelesen.</li>
  <li><em>parser.Checks.py</em><br />
Die eingelesenen Daten werden überprüft, im Fehlerfall werden Meldungen im Ausgabefenster ausgegeben.</li>
  <li><em>generators.Generator_xxx.py</em> <br />
Der ausgewählte Generator wird gestartet und erzeugt die Quelldateien für das ausgewählte Zielsystem.</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>├── CodeGenerator
│   ├── conf
│   │   ├── config.py
│   │   └── __init__.py
│   ├── generators
│   │   ├── BaseGenerator.py
│   │   ├── Generator_BuR.py
│   │   ├── Generator_SIE.py
│   │   ├── __init__.py
│   │   └── Syntax.py
│   ├── images
│   │   ├── config_icon.png
│   │   └── program_icon.ico
│   ├── __init__.py
│   └── parser
│       ├── Checks.py
│       └── Spreadsheet.py
</code></pre></div></div>
<h3 id="conf">conf</h3>
<p>Hier befindet sich die Konfigurationsdatei für das Programm.</p>

<h3 id="generators">generators</h3>
<p>In diesem Verzeichnis befinden sich die Generatoren für das jeweilige Zielsystem. In der Quelle Syntax.py sind alle Sprachelemente der Zielsprache hinterlegt.</p>

<h3 id="images">images</h3>
<p>Hier befinden sich die Icons für das Programm.</p>

<h3 id="parser">parser</h3>
<p>In diesem Verzeichnis befindt sich der Parser für das Excel Sheet und auch die Klasse zur Überprüfung der Daten.</p>

<h2 id="geplante-features">Geplante Features</h2>
<ul>
  <li>Generator für C++ Code für B&amp;R Steuerungen Q1/2019</li>
  <li>Direkter Import/Export für B&amp;R Steuerungen Q1/2019</li>
  <li>Generator für Codesys Zielsysteme Q2/2019</li>
</ul>

<h2 id="software-download">Software Download</h2>

<p>CodeGenerator für Linux und Windows:<br />
<a href="/downloads">CodeGenerator_BETA_V0.9.0</a></p>

<p>Source Code CodeGenerator:<br />
<a href="https://github.com/dg60/DEV_Codegenerator">Github CodeGenerator</a></p>


        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Teilen auf</h4>
  

  <a href="https://twitter.com/intent/tweet?via=60dmg&text=CodeGenerator+for+PLC%C2%B4s+%28DE%29%20https%3A%2F%2Fdg60.github.io%2Fportfolio%2F05-CodeGenerator-%28DE%29%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Teilen auf Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdg60.github.io%2Fportfolio%2F05-CodeGenerator-%28DE%29%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Teilen auf Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https%3A%2F%2Fdg60.github.io%2Fportfolio%2F05-CodeGenerator-%28DE%29%2F" class="btn btn--google-plus" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Teilen auf Google Plus"><i class="fab fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fdg60.github.io%2Fportfolio%2F05-CodeGenerator-%28DE%29%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Teilen auf LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="https://dg60.github.io/portfolio/04-Bash-Skripte/" class="pagination--pager" title="Bash Skripte 2018
">Vorherige</a>
    
    
      <a href="#" class="pagination--pager disabled">Nächste</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">Ihnen gefällt vielleicht auch</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "https://dg60.github.io/images/works/CodeGenerator/CodeGen_BuR.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://dg60.github.io/Code-Generator-BETA-Release/" rel="permalink">Code Generator Beta Release
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  weniger als 1 Minuten zum lesen
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Codegenerator
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "https://dg60.github.io/images/docs/metasploit.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://dg60.github.io/Metasploit/" rel="permalink">Metasploit
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  17 Minuten zum lesen
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Eine kurze Einführung in das Metasploit Framework
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "https://dg60.github.io/images/docs/nmap.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://dg60.github.io/NMAP/" rel="permalink">Nmap
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  12 Minuten zum lesen
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Eine kurze Einführung in den Netzwerk/Portscanner Nmap
</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "https://dg60.github.io/images/docs/pm2_small.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="https://dg60.github.io/PM2-Prozess-Manager-Einf%C3%BChrung/" rel="permalink">Pm2 Prozess Manager Einführung
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  8 Minuten zum lesen
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Eine kurze Einführung in den Prozess-Manger PM2
</p>
  </article>
</div>
        
      </div>
    </div>
  
  
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    <div id="results" class="results"></div></div>
      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Folgen:</strong></li>
    
    
      <li><a href="https://twitter.com/60dmg"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
      <li><a href="https://www.facebook.com/danielmichael.grill"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
    
    
      <li><a href="https://github.com/dg60"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 Daniel Grill. Möglich durch <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="https://dg60.github.io/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>




<script src="https://dg60.github.io/assets/js/lunr/lunr.min.js"></script>
<script src="https://dg60.github.io/assets/js/lunr/lunr-store.js"></script>
<script src="https://dg60.github.io/assets/js/lunr/lunr-en.js"></script>





  </body>
</html>